
> Hey Melody@0.1.0 lint
> eslint -f json

[{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\api\\SupabaseClient.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":3,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[71,74],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[71,74],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from \"@supabase/supabase-js\";\r\n\r\nlet supabase: any = null;\r\n\r\nfunction getSupabaseClient() {\r\n  if (supabase) {\r\n    return supabase;\r\n  }\r\n\r\n  const supabaseURL = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n  const supabaseAnonkey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n  if (!supabaseURL) {\r\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_URL environment variable\");\r\n  }\r\n\r\n  if (!supabaseAnonkey) {\r\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable\");\r\n  }\r\n\r\n  supabase = createClient(supabaseURL, supabaseAnonkey);\r\n  return supabase;\r\n}\r\n\r\nexport default getSupabaseClient;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\api\\auth\\loginUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\api\\auth\\logoutUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\api\\auth\\signUpUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\check-supabase-connection.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":58}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Temporary script to check Supabase connection\r\nconst { createClient } = require('@supabase/supabase-js');\r\n\r\nasync function checkSupabaseConnection() {\r\n  console.log('ðŸ” Checking Supabase Connection...\\n');\r\n  \r\n  // Check environment variables\r\n  const supabaseURL = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n  \r\n  console.log('ðŸ“‹ Environment Variables:');\r\n  console.log(`   NEXT_PUBLIC_SUPABASE_URL: ${supabaseURL ? 'âœ… SET' : 'âŒ NOT SET'}`);\r\n  if (supabaseURL) {\r\n    console.log(`   URL Value: ${supabaseURL.substring(0, 30)}...`);\r\n  }\r\n  console.log(`   NEXT_PUBLIC_SUPABASE_ANON_KEY: ${supabaseAnonKey ? 'âœ… SET' : 'âŒ NOT SET'}`);\r\n  console.log('');\r\n  \r\n  if (!supabaseURL || !supabaseAnonKey) {\r\n    console.log('âŒ ERROR: Missing required environment variables!');\r\n    console.log('   Please create a .env.local file with:');\r\n    console.log('   NEXT_PUBLIC_SUPABASE_URL=your_supabase_url');\r\n    console.log('   NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key');\r\n    return false;\r\n  }\r\n  \r\n  // Try to create client\r\n  try {\r\n    console.log('ðŸ”§ Creating Supabase client...');\r\n    const supabase = createClient(supabaseURL, supabaseAnonKey);\r\n    console.log('âœ… Client created successfully\\n');\r\n    \r\n    // Try to ping Supabase (check health)\r\n    console.log('ðŸŒ Testing connection to Supabase...');\r\n    const { data, error } = await supabase.auth.getSession();\r\n    \r\n    if (error && error.message.includes('Invalid API key')) {\r\n      console.log('âŒ Connection failed: Invalid API key');\r\n      return false;\r\n    }\r\n    \r\n    // If we get here, the connection is working\r\n    console.log('âœ… Connection successful!');\r\n    console.log(`   Session status: ${data?.session ? 'Active' : 'No active session'}`);\r\n    return true;\r\n    \r\n  } catch (err) {\r\n    console.log('âŒ Connection failed:', err.message);\r\n    return false;\r\n  }\r\n}\r\n\r\ncheckSupabaseConnection().then(success => {\r\n  if (success) {\r\n    console.log('\\nâœ… Supabase is properly configured!');\r\n    process.exit(0);\r\n  } else {\r\n    console.log('\\nâŒ Supabase connection check failed!');\r\n    process.exit(1);\r\n  }\r\n});\r\n\r\n\r\n\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\layouts\\FrontendLayout.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useMemo has missing dependencies: 'playNext', 'playNow', and 'playPrev'. Either include them or remove the dependency array.","line":58,"column":5,"nodeType":"ArrayExpression","endLine":58,"endColumn":44,"suggestions":[{"desc":"Update the dependencies array to be: [currentMusic, queue, isQueueModalOpen, playNext, playPrev, playNow]","fix":{"range":[1707,1746],"text":"[currentMusic, queue, isQueueModalOpen, playNext, playPrev, playNow]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { createContext, useMemo, useState } from \"react\";\r\nimport type { Song } from \"../types/song\";            // use one canonical import path\r\nimport MusicPlayer from \"@/components/MusicPlayer\";   // global player only\r\n\r\nexport type PlayerContextType = {\r\n  currentMusic: Song | null;\r\n  queue: Song[];\r\n  isQueueModalOpen: boolean;\r\n  setQueueModalOpen: (open: boolean) => void;\r\n  playNext: () => void;\r\n  playPrev: () => void;\r\n  playNow: (song: Song, queue?: Song[]) => void;\r\n};\r\n\r\nexport const PlayerContext = createContext<PlayerContextType | null>(null);\r\n\r\nexport default function FrontendLayout({ children }: { children: React.ReactNode }) {\r\n  const [currentMusic, setCurrentMusic] = useState<Song | null>(null);\r\n  const [queue, setQueue] = useState<Song[]>([]);\r\n  const [isQueueModalOpen, setQueueModalOpen] = useState(false);\r\n\r\n  const indexInQueue = currentMusic ? queue.findIndex((s) => s.id === currentMusic.id) : -1;\r\n\r\n  const playNext = () => {\r\n    if (indexInQueue >= 0 && indexInQueue < queue.length - 1) {\r\n      setCurrentMusic(queue[indexInQueue + 1]);\r\n    }\r\n  };\r\n\r\n  const playPrev = () => {\r\n    if (indexInQueue > 0) {\r\n      setCurrentMusic(queue[indexInQueue - 1]);\r\n    }\r\n  };\r\n\r\n  const playNow = (song: Song, q?: Song[]) => {\r\n    if (q?.length) {\r\n      const exists = q.some((s) => s.id === song.id);\r\n      setQueue(exists ? q : [song, ...q]);\r\n    } else if (!queue.length) {\r\n      setQueue([song]);\r\n    }\r\n    setCurrentMusic(song);\r\n  };\r\n\r\n  const value = useMemo(\r\n    () => ({\r\n      currentMusic,\r\n      queue,\r\n      isQueueModalOpen,\r\n      setQueueModalOpen,\r\n      playNext,\r\n      playPrev,\r\n      playNow,\r\n    }),\r\n    [currentMusic, queue, isQueueModalOpen]\r\n  );\r\n\r\n  return (\r\n    <PlayerContext.Provider value={value}>\r\n      {children}\r\n      <MusicPlayer />\r\n    </PlayerContext.Provider>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\app\\auth\\callback\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cookies' is defined but never used.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport { cookies } from 'next/headers';\r\nimport getSupabaseClient from '../../../../api/SupabaseClient';\r\n\r\nexport async function GET(request: Request) {\r\n  const requestUrl = new URL(request.url);\r\n  const code = requestUrl.searchParams.get('code');\r\n\r\n  if (code) {\r\n    const supabase = getSupabaseClient();\r\n    await supabase.auth.exchangeCodeForSession(code);\r\n  }\r\n\r\n  // Redirect to home page after successful authentication\r\n  return NextResponse.redirect(new URL('/', request.url));\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'data' is assigned a value but never used.","line":66,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":66,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport loginUser from \"../../../api/auth/loginUser\";\r\nimport getSupabaseClient from \"../../../api/SupabaseClient\";\r\nexport const dynamic = \"force-dynamic\";\r\n\r\nexport default function Page() {\r\n  const router = useRouter();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPw, setShowPw] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [googleLoading, setGoogleLoading] = useState(false);\r\n\r\n  const theme = useMemo(() => ({ cyan: \"#06b6d4\" }), []);\r\n\r\n  useEffect(() => {\r\n    const checkSession = async () => {\r\n      const supabase = getSupabaseClient();\r\n      const { data } = await supabase.auth.getSession();\r\n      if (data.session) {\r\n        router.push(\"/\");\r\n      } else {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    checkSession();\r\n  }, [router]);\r\n\r\n  const handleLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    if (!email.trim() || !password.trim()) {\r\n      setMessage(\"All fields are required!\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const result = await loginUser(email, password);\r\n\r\n    if (result?.error) {\r\n      setMessage(result.error);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Login Successful. Welcome to HeyMelody!\");\r\n    setTimeout(() => {\r\n      router.push(\"/\");\r\n    }, 1200);\r\n  };\r\n\r\n  const handleGoogleLogin = async () => {\r\n    setGoogleLoading(true);\r\n    setMessage(\"\");\r\n    \r\n    try {\r\n      const supabase = getSupabaseClient();\r\n      const { data, error } = await supabase.auth.signInWithOAuth({\r\n        provider: 'google',\r\n        options: {\r\n          redirectTo: `${window.location.origin}/auth/callback`,\r\n          queryParams: {\r\n            access_type: 'offline',\r\n            prompt: 'consent',\r\n          },\r\n        },\r\n      });\r\n\r\n      if (error) {\r\n        setMessage(error.message);\r\n        setGoogleLoading(false);\r\n        return;\r\n      }\r\n    } catch (err: unknown) {\r\n      const msg = err instanceof Error ? err.message : \"Something went wrong with Google login.\";\r\n      setMessage(msg);\r\n      setGoogleLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return null;\r\n\r\n  return (\r\n    <div className=\"relative min-h-screen w-full overflow-hidden p-4 flex items-center justify-center bg-black\">\r\n      <Toaster \r\n        position=\"top-center\"\r\n        toastOptions={{\r\n          style: {\r\n            background: '#18181b',\r\n            color: '#fff',\r\n            border: '1px solid #27272a',\r\n          },\r\n        }}\r\n      />\r\n\r\n      {/* Animated gradient background */}\r\n      <div\r\n        aria-hidden\r\n        className=\"pointer-events-none absolute inset-0\"\r\n        style={{\r\n          background:\r\n            \"radial-gradient(1200px 600px at 10% -10%, rgba(6,182,212,0.15), transparent 60%), radial-gradient(900px 500px at 110% 30%, rgba(6,182,212,0.08), transparent 60%), radial-gradient(700px 400px at 50% 120%, rgba(6,182,212,0.10), transparent 60%)\",\r\n        }}\r\n      />\r\n\r\n      {/* Grid pattern overlay */}\r\n      <div\r\n        aria-hidden\r\n        className=\"pointer-events-none absolute inset-0 opacity-[0.08]\r\n                   [background-image:linear-gradient(to_right,rgba(6,182,212,.2)_1px,transparent_1px),linear-gradient(to_bottom,rgba(6,182,212,.2)_1px,transparent_1px)]\r\n                   [background-size:64px_64px]\"\r\n      />\r\n\r\n      {/* Main card */}\r\n      <div\r\n        className=\"relative w-full max-w-[440px]\r\n                   rounded-3xl border border-zinc-800\r\n                   bg-zinc-950 backdrop-blur-xl\r\n                   shadow-[0_20px_80px_-20px_rgba(6,182,212,.3)]\r\n                   px-8 lg:px-10 py-8\"\r\n      >\r\n        {/* Glowing border effect */}\r\n        <div\r\n          aria-hidden\r\n          className=\"absolute inset-0 rounded-3xl pointer-events-none -z-10 opacity-50\"\r\n          style={{\r\n            padding: 1,\r\n            background:\r\n              \"linear-gradient(135deg, rgba(6,182,212,0.3), rgba(6,182,212,0.1), rgba(6,182,212,0.3))\",\r\n            mask:\r\n              \"linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0)\",\r\n            WebkitMask:\r\n              \"linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0)\",\r\n            maskComposite: \"exclude\",\r\n            WebkitMaskComposite: \"xor\",\r\n          }}\r\n        />\r\n\r\n        <div className=\"relative z-10\">\r\n          {/* Header */}\r\n          <header className=\"mb-6 text-center\">\r\n            <div className=\"inline-flex items-center gap-3 mb-3\">\r\n              <div className=\"h-10 w-10 rounded-xl bg-gradient-to-br from-cyan-400 to-cyan-600 grid place-items-center shadow-lg shadow-cyan-500/30\">\r\n                <svg className=\"w-6 h-6 text-black\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path d=\"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z\"/>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <h1 className=\"text-3xl font-extrabold tracking-tight mb-2\">\r\n              <span className=\"bg-gradient-to-r from-cyan-400 to-cyan-200 bg-clip-text text-transparent\">\r\n                Hey Melody\r\n              </span>\r\n            </h1>\r\n            <p className=\"text-sm text-zinc-400\">Log in to get back to the melody universe ðŸŽ§</p>\r\n          </header>\r\n\r\n          {/* Form */}\r\n          <div className=\"flex flex-col gap-4\">\r\n            {message && (\r\n              <div className=\"bg-cyan-500/10 border border-cyan-500/30 text-cyan-200 font-medium text-sm text-center rounded-xl py-2.5 px-4 backdrop-blur-sm\">\r\n                {message}\r\n              </div>\r\n            )}\r\n\r\n            {/* Google Login Button */}\r\n            <button\r\n              onClick={handleGoogleLogin}\r\n              disabled={googleLoading || loading}\r\n              className=\"w-full py-3.5 rounded-xl font-medium text-white text-base\r\n                         bg-zinc-900 border border-zinc-800\r\n                         hover:bg-zinc-800 hover:border-zinc-700\r\n                         transition-all duration-300\r\n                         disabled:opacity-50 disabled:cursor-not-allowed\r\n                         active:scale-[0.98]\r\n                         flex items-center justify-center gap-3\"\r\n            >\r\n              {googleLoading ? (\r\n                <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\r\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\"/>\r\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"/>\r\n                </svg>\r\n              ) : (\r\n                <>\r\n                  <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\r\n                    />\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\r\n                    />\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\r\n                    />\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\r\n                    />\r\n                  </svg>\r\n                  Continue with Google\r\n                </>\r\n              )}\r\n            </button>\r\n\r\n            {/* Divider */}\r\n            <div className=\"relative flex items-center gap-3 py-2\">\r\n              <div className=\"flex-1 h-px bg-zinc-800\"></div>\r\n              <span className=\"text-xs text-zinc-500 font-medium uppercase tracking-wider\">Or continue with email</span>\r\n              <div className=\"flex-1 h-px bg-zinc-800\"></div>\r\n            </div>\r\n\r\n            {/* Email Field */}\r\n            <label className=\"group\">\r\n              <span className=\"mb-1.5 block text-xs font-bold uppercase tracking-wider text-zinc-400\">\r\n                Email Address\r\n              </span>\r\n              <input\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                value={email}\r\n                type=\"email\"\r\n                placeholder=\"you@example.com\"\r\n                className=\"w-full px-4 py-3 rounded-xl\r\n                           bg-zinc-900 text-white placeholder:text-zinc-500\r\n                           outline-none border border-zinc-800\r\n                           focus:border-cyan-500/50 focus:bg-zinc-900\r\n                           focus:ring-2 focus:ring-cyan-500/20\r\n                           transition-all duration-300\r\n                           disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                disabled={loading || googleLoading}\r\n                autoComplete=\"email\"\r\n                inputMode=\"email\"\r\n                required\r\n              />\r\n            </label>\r\n\r\n            {/* Password Field */}\r\n            <label className=\"group\">\r\n              <span className=\"mb-1.5 block text-xs font-bold uppercase tracking-wider text-zinc-400\">\r\n                Password\r\n              </span>\r\n              <div\r\n                className=\"w-full flex items-stretch\r\n                           rounded-xl border border-zinc-800 bg-zinc-900 overflow-hidden\r\n                           focus-within:border-cyan-500/50 focus-within:bg-zinc-900\r\n                           focus-within:ring-2 focus-within:ring-cyan-500/20\r\n                           transition-all duration-300\"\r\n              >\r\n                <input\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  value={password}\r\n                  type={showPw ? \"text\" : \"password\"}\r\n                  placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                  className=\"flex-1 px-4 py-3 bg-transparent text-white placeholder:text-zinc-500 outline-none disabled:opacity-50\"\r\n                  disabled={loading || googleLoading}\r\n                  autoComplete=\"current-password\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPw((s) => !s)}\r\n                  className=\"px-4 text-xs font-bold bg-zinc-800 hover:bg-zinc-750 text-cyan-400 transition-colors disabled:opacity-50\"\r\n                  aria-label={showPw ? \"Hide password\" : \"Show password\"}\r\n                  disabled={loading || googleLoading}\r\n                >\r\n                  {showPw ? \"HIDE\" : \"SHOW\"}\r\n                </button>\r\n              </div>\r\n            </label>\r\n\r\n            {/* Submit Button */}\r\n            <button\r\n              onClick={handleLogin}\r\n              className=\"mt-2 w-full py-3.5 rounded-xl font-bold text-black text-base\r\n                         bg-gradient-to-r from-cyan-500 to-cyan-600\r\n                         hover:from-cyan-400 hover:to-cyan-500\r\n                         shadow-lg shadow-cyan-500/30\r\n                         transition-all duration-300\r\n                         disabled:opacity-50 disabled:cursor-not-allowed\r\n                         disabled:hover:from-cyan-500 disabled:hover:to-cyan-600\r\n                         active:scale-[0.98]\"\r\n              disabled={loading || googleLoading}\r\n            >\r\n              {loading ? (\r\n                <span className=\"flex items-center justify-center gap-2\">\r\n                  <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\"/>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"/>\r\n                  </svg>\r\n                  Logging inâ€¦\r\n                </span>\r\n              ) : (\r\n                \"Log In\"\r\n              )}\r\n            </button>\r\n\r\n            {/* Remember Me & Forgot Password */}\r\n            <div className=\"mt-1 flex items-center justify-between text-xs\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  id=\"remember\"\r\n                  type=\"checkbox\"\r\n                  className=\"h-4 w-4 rounded border-zinc-700 bg-zinc-900 focus:ring-2 focus:ring-cyan-500/20 focus:ring-offset-0\"\r\n                  style={{ accentColor: theme.cyan }}\r\n                  disabled={loading || googleLoading}\r\n                />\r\n                <label htmlFor=\"remember\" className=\"text-zinc-400 cursor-pointer\">\r\n                  Remember me\r\n                </label>\r\n              </div>\r\n              <Link\r\n                href=\"/forgot-password\"\r\n                className=\"text-cyan-400 hover:text-cyan-300 font-medium transition-colors underline decoration-transparent hover:decoration-cyan-400\"\r\n              >\r\n                Forgot password?\r\n              </Link>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer Link */}\r\n          <div className=\"text-zinc-400 text-center mt-6 text-sm\">\r\n            <span>Don&apos;t have an account? </span>\r\n            <Link\r\n              href=\"/signup\"\r\n              className=\"font-bold text-cyan-400 hover:text-cyan-300 transition-colors underline decoration-transparent hover:decoration-cyan-400\"\r\n            >\r\n              Sign up now\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bottom glow effect */}\r\n        <div\r\n          aria-hidden\r\n          className=\"absolute -z-10 left-1/2 -translate-x-1/2 bottom-[-80px] h-48 w-[80%] rounded-full blur-3xl opacity-40\"\r\n          style={{ background: \"rgba(6,182,212,0.3)\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\app\\providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\app\\signup\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'theme' is assigned a value but never used.","line":22,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'data' is assigned a value but never used.","line":82,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":82,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport getSupabaseClient from \"../../../api/SupabaseClient\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport { Session } from \"@supabase/supabase-js\";\r\n\r\nexport default function Page() {\r\n  const router = useRouter();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [googleLoading, setGoogleLoading] = useState(false);\r\n  const [showPw, setShowPw] = useState(false);\r\n\r\n  const theme = useMemo(() => ({ cyan: \"#06b6d4\" }), []);\r\n\r\n  useEffect(() => {\r\n    const supabase = getSupabaseClient();\r\n    supabase.auth.getSession().then(({ data }: { data: { session: Session | null } }) => {\r\n      if (data.session) router.push(\"/\");\r\n      else setLoading(false);\r\n    });\r\n  }, [router]);\r\n\r\n  const handleSignup = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n\r\n    if (!name.trim() || !email.trim() || !password.trim()) {\r\n      setMessage(\"All fields are required!\");\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n    try {\r\n      const supabase = getSupabaseClient();\r\n      const { data, error } = await supabase.auth.signUp({\r\n        email,\r\n        password,\r\n        options: {\r\n          data: { display_name: name },\r\n          emailRedirectTo:\r\n            typeof window !== \"undefined\"\r\n              ? `${window.location.origin}/auth/callback`\r\n              : undefined,\r\n        },\r\n      });\r\n\r\n      if (error) {\r\n        setMessage(error.message);\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      if (data.session) {\r\n        toast.success(\"Registration successful!\");\r\n        setTimeout(() => router.push(\"/login\"), 1200);\r\n      } else {\r\n        toast.success(\"Signup successful! Check your email to verify.\");\r\n      }\r\n    } catch (err: unknown) {\r\n      const msg = err instanceof Error ? err.message : \"Something went wrong during signup.\";\r\n      setMessage(msg);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignup = async () => {\r\n    setGoogleLoading(true);\r\n    setMessage(\"\");\r\n    \r\n    try {\r\n      const supabase = getSupabaseClient();\r\n      const { data, error } = await supabase.auth.signInWithOAuth({\r\n        provider: 'google',\r\n        options: {\r\n          redirectTo: `${window.location.origin}/auth/callback`,\r\n          queryParams: {\r\n            access_type: 'offline',\r\n            prompt: 'consent',\r\n          },\r\n        },\r\n      });\r\n\r\n      if (error) {\r\n        setMessage(error.message);\r\n        setGoogleLoading(false);\r\n        return;\r\n      }\r\n    } catch (err: unknown) {\r\n      const msg = err instanceof Error ? err.message : \"Something went wrong with Google signup.\";\r\n      setMessage(msg);\r\n      setGoogleLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return null;\r\n\r\n  return (\r\n    <div className=\"relative min-h-screen w-full overflow-hidden p-4 flex items-center justify-center bg-black\">\r\n      <Toaster \r\n        position=\"top-center\"\r\n        toastOptions={{\r\n          style: {\r\n            background: '#18181b',\r\n            color: '#fff',\r\n            border: '1px solid #27272a',\r\n          },\r\n        }}\r\n      />\r\n\r\n      {/* Animated gradient background */}\r\n      <div\r\n        aria-hidden\r\n        className=\"pointer-events-none absolute inset-0\"\r\n        style={{\r\n          background:\r\n            \"radial-gradient(1200px 600px at 10% -10%, rgba(6,182,212,0.15), transparent 60%), radial-gradient(900px 500px at 110% 30%, rgba(6,182,212,0.08), transparent 60%), radial-gradient(700px 400px at 50% 120%, rgba(6,182,212,0.10), transparent 60%)\",\r\n        }}\r\n      />\r\n\r\n      {/* Grid pattern overlay */}\r\n      <div\r\n        aria-hidden\r\n        className=\"pointer-events-none absolute inset-0 opacity-[0.08]\r\n                   [background-image:linear-gradient(to_right,rgba(6,182,212,.2)_1px,transparent_1px),linear-gradient(to_bottom,rgba(6,182,212,.2)_1px,transparent_1px)]\r\n                   [background-size:64px_64px]\"\r\n      />\r\n\r\n      {/* Main card */}\r\n      <div\r\n        className=\"relative w-full max-w-[440px]\r\n                   rounded-3xl border border-zinc-800\r\n                   bg-zinc-950 backdrop-blur-xl\r\n                   shadow-[0_20px_80px_-20px_rgba(6,182,212,.3)]\r\n                   px-8 lg:px-10 py-8\"\r\n      >\r\n        {/* Glowing border effect */}\r\n        <div\r\n          aria-hidden\r\n          className=\"absolute inset-0 rounded-3xl pointer-events-none -z-10 opacity-50\"\r\n          style={{\r\n            padding: 1,\r\n            background:\r\n              \"linear-gradient(135deg, rgba(6,182,212,0.3), rgba(6,182,212,0.1), rgba(6,182,212,0.3))\",\r\n            mask:\r\n              \"linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0)\",\r\n            WebkitMask:\r\n              \"linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0)\",\r\n            maskComposite: \"exclude\",\r\n            WebkitMaskComposite: \"xor\",\r\n          }}\r\n        />\r\n\r\n        <div className=\"relative z-10\">\r\n          {/* Header */}\r\n          <header className=\"mb-6 text-center\">\r\n            <div className=\"inline-flex items-center gap-3 mb-3\">\r\n              <div className=\"h-10 w-10 rounded-xl bg-gradient-to-br from-cyan-400 to-cyan-600 grid place-items-center shadow-lg shadow-cyan-500/30\">\r\n                <svg className=\"w-6 h-6 text-black\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path d=\"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z\"/>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <h1 className=\"text-3xl font-extrabold tracking-tight mb-2\">\r\n              <span className=\"bg-gradient-to-r from-cyan-400 to-cyan-200 bg-clip-text text-transparent\">\r\n                Hey Melody\r\n              </span>\r\n            </h1>\r\n            <p className=\"text-sm text-zinc-400\">Create account to start streaming your vibe ðŸŽ§</p>\r\n          </header>\r\n\r\n          {/* Form */}\r\n          <div className=\"flex flex-col gap-4\">\r\n            {message && (\r\n              <div className=\"bg-cyan-500/10 border border-cyan-500/30 text-cyan-200 font-medium text-sm text-center rounded-xl py-2.5 px-4 backdrop-blur-sm\">\r\n                {message}\r\n              </div>\r\n            )}\r\n\r\n            {/* Google Signup Button */}\r\n            <button\r\n              onClick={handleGoogleSignup}\r\n              disabled={googleLoading || submitting}\r\n              className=\"w-full py-3.5 rounded-xl font-medium text-white text-base\r\n                         bg-zinc-900 border border-zinc-800\r\n                         hover:bg-zinc-800 hover:border-zinc-700\r\n                         transition-all duration-300\r\n                         disabled:opacity-50 disabled:cursor-not-allowed\r\n                         active:scale-[0.98]\r\n                         flex items-center justify-center gap-3\"\r\n            >\r\n              {googleLoading ? (\r\n                <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\r\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\"/>\r\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"/>\r\n                </svg>\r\n              ) : (\r\n                <>\r\n                  <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\r\n                    />\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\r\n                    />\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\r\n                    />\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\r\n                    />\r\n                  </svg>\r\n                  Continue with Google\r\n                </>\r\n              )}\r\n            </button>\r\n\r\n            {/* Divider */}\r\n            <div className=\"relative flex items-center gap-3 py-2\">\r\n              <div className=\"flex-1 h-px bg-zinc-800\"></div>\r\n              <span className=\"text-xs text-zinc-500 font-medium uppercase tracking-wider\">Or sign up with email</span>\r\n              <div className=\"flex-1 h-px bg-zinc-800\"></div>\r\n            </div>\r\n\r\n            {/* Name Field */}\r\n            <label className=\"group\">\r\n              <span className=\"mb-1.5 block text-xs font-bold uppercase tracking-wider text-zinc-400\">\r\n                Full Name\r\n              </span>\r\n              <input\r\n                onChange={(e) => setName(e.target.value)}\r\n                value={name}\r\n                type=\"text\"\r\n                placeholder=\"Enter your name\"\r\n                className=\"w-full px-4 py-3 rounded-xl\r\n                           bg-zinc-900 text-white placeholder:text-zinc-500\r\n                           outline-none border border-zinc-800\r\n                           focus:border-cyan-500/50 focus:bg-zinc-900\r\n                           focus:ring-2 focus:ring-cyan-500/20\r\n                           transition-all duration-300\r\n                           disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                disabled={submitting || googleLoading}\r\n                required\r\n              />\r\n            </label>\r\n\r\n            {/* Email Field */}\r\n            <label className=\"group\">\r\n              <span className=\"mb-1.5 block text-xs font-bold uppercase tracking-wider text-zinc-400\">\r\n                Email Address\r\n              </span>\r\n              <input\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                value={email}\r\n                type=\"email\"\r\n                placeholder=\"you@example.com\"\r\n                className=\"w-full px-4 py-3 rounded-xl\r\n                           bg-zinc-900 text-white placeholder:text-zinc-500\r\n                           outline-none border border-zinc-800\r\n                           focus:border-cyan-500/50 focus:bg-zinc-900\r\n                           focus:ring-2 focus:ring-cyan-500/20\r\n                           transition-all duration-300\r\n                           disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                disabled={submitting || googleLoading}\r\n                autoComplete=\"email\"\r\n                required\r\n              />\r\n            </label>\r\n\r\n            {/* Password Field */}\r\n            <label className=\"group\">\r\n              <span className=\"mb-1.5 block text-xs font-bold uppercase tracking-wider text-zinc-400\">\r\n                Password\r\n              </span>\r\n              <div\r\n                className=\"w-full flex items-stretch\r\n                           rounded-xl border border-zinc-800 bg-zinc-900 overflow-hidden\r\n                           focus-within:border-cyan-500/50 focus-within:bg-zinc-900\r\n                           focus-within:ring-2 focus:ring-cyan-500/20\r\n                           transition-all duration-300\"\r\n              >\r\n                <input\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  value={password}\r\n                  type={showPw ? \"text\" : \"password\"}\r\n                  placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                  className=\"flex-1 px-4 py-3 bg-transparent text-white placeholder:text-zinc-500 outline-none disabled:opacity-50\"\r\n                  disabled={submitting || googleLoading}\r\n                  autoComplete=\"new-password\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPw((s) => !s)}\r\n                  className=\"px-4 text-xs font-bold bg-zinc-800 hover:bg-zinc-750 text-cyan-400 transition-colors disabled:opacity-50\"\r\n                  aria-label={showPw ? \"Hide password\" : \"Show password\"}\r\n                  disabled={submitting || googleLoading}\r\n                >\r\n                  {showPw ? \"HIDE\" : \"SHOW\"}\r\n                </button>\r\n              </div>\r\n            </label>\r\n\r\n            {/* Submit Button */}\r\n            <button\r\n              onClick={handleSignup}\r\n              disabled={submitting || googleLoading}\r\n              className=\"mt-2 w-full py-3.5 rounded-xl font-bold text-black text-base\r\n                         bg-gradient-to-r from-cyan-500 to-cyan-600\r\n                         hover:from-cyan-400 hover:to-cyan-500\r\n                         shadow-lg shadow-cyan-500/30\r\n                         transition-all duration-300\r\n                         disabled:opacity-50 disabled:cursor-not-allowed\r\n                         disabled:hover:from-cyan-500 disabled:hover:to-cyan-600\r\n                         active:scale-[0.98]\"\r\n            >\r\n              {submitting ? (\r\n                <span className=\"flex items-center justify-center gap-2\">\r\n                  <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\"/>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"/>\r\n                  </svg>\r\n                  Creating accountâ€¦\r\n                </span>\r\n              ) : (\r\n                \"Create Account\"\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Footer Link */}\r\n          <div className=\"text-zinc-400 text-center mt-6 text-sm\">\r\n            <span>Already have an account? </span>\r\n            <Link\r\n              href=\"/login\"\r\n              className=\"font-bold text-cyan-400 hover:text-cyan-300 transition-colors underline decoration-transparent hover:decoration-cyan-400\"\r\n            >\r\n              Log in\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bottom glow effect */}\r\n        <div\r\n          aria-hidden\r\n          className=\"absolute -z-10 left-1/2 -translate-x-1/2 bottom-[-80px] h-48 w-[80%] rounded-full blur-3xl opacity-40\"\r\n          style={{ background: \"rgba(6,182,212,0.3)\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\app\\user-dashboard\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\app\\user-dashboard\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'currentPage' is assigned a value but never used.","line":62,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useMemo, useState, useContext, useCallback } from \"react\";\r\nimport getSupabaseClient from \"../../../api/SupabaseClient\";\r\nimport { motion } from \"framer-motion\";\r\nimport { PlayerContext } from \"../../../layouts/FrontendLayout\";\r\nimport type { Song } from \"../../../types/song\";\r\n\r\n// Import Components\r\nimport Header from \"../../components/Header\";\r\nimport ProfileSection from \"../../components/dashboard/ProfileSection\";\r\nimport UploadSongForm from \"../../components/dashboard/UploadSongForm\";\r\nimport CreatePlaylistForm from \"../../components/dashboard/CreatePlaylistForm\";\r\nimport PlaylistGrid from \"../../components/dashboard/PlaylistGrid\";\r\nimport PlaylistModal from \"../../components/dashboard/PlaylistModal\";\r\n\r\ntype Profile = {\r\n  id: string;\r\n  email: string | null;\r\n  display_name: string | null;\r\n  avatar_url?: string | null;\r\n};\r\n\r\ntype Playlist = {\r\n  id: number;\r\n  user_id: string;\r\n  name: string;\r\n  description: string | null;\r\n  is_public: boolean;\r\n  created_at: string;\r\n  cover_image_url: string | null;\r\n  playlist_songs?: { song_id: string }[];\r\n};\r\n\r\ntype PlaylistSongRow = {\r\n  song: Song;\r\n  added_at: string;\r\n  position: number | null;\r\n};\r\n\r\ntype SupabasePlaylistSongResponse = {\r\n  added_at: string;\r\n  position: number | null;\r\n  song: Song | Song[];\r\n};\r\n\r\ntype Bucket = \"songs\" | \"covers\";\r\n\r\nexport default function UserDashboard() {\r\n  const [me, setMe] = useState<Profile | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [busy, setBusy] = useState(false);\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  const [playlists, setPlaylists] = useState<Playlist[]>([]);\r\n  const [plBusy, setPlBusy] = useState(false);\r\n  const [openPlaylistId, setOpenPlaylistId] = useState<number | null>(null);\r\n  const [openPlaylistSongs, setOpenPlaylistSongs] = useState<PlaylistSongRow[] | null>(null);\r\n\r\n  // Header state\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [mobileSearchOpen, setMobileSearchOpen] = useState(false);\r\n\r\n  const player = useContext(PlayerContext);\r\n\r\n  const loadPlaylists = useCallback(async (uid: string) => {\r\n    const supabase = getSupabaseClient();\r\n    const { data, error } = await supabase\r\n      .from(\"playlists\")\r\n      .select(\"id,user_id,name,description,is_public,created_at,cover_image_url, playlist_songs ( song_id )\")\r\n      .eq(\"user_id\", uid)\r\n      .order(\"created_at\", { ascending: false });\r\n    if (error) {\r\n      setMsg(error.message || \"Failed to load playlists\");\r\n      return;\r\n    }\r\n    setPlaylists((data ?? []) as Playlist[]);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const supabase = getSupabaseClient();\r\n      const { data: auth } = await supabase.auth.getUser();\r\n      if (!auth.user) {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      const { id, email, user_metadata } = auth.user;\r\n      const profile: Profile = {\r\n        id,\r\n        email: email ?? null,\r\n        display_name: user_metadata?.display_name || user_metadata?.full_name || null,\r\n        avatar_url: user_metadata?.avatar_url || null,\r\n      };\r\n      setMe(profile);\r\n      await loadPlaylists(id);\r\n      setLoading(false);\r\n    })();\r\n  }, [loadPlaylists]);\r\n\r\n  const displayName = useMemo(() => {\r\n    if (!me) return \"You\";\r\n    if (me.display_name && me.display_name.trim() !== \"\") {\r\n      return me.display_name;\r\n    }\r\n    return me.email?.split(\"@\")[0] || \"You\";\r\n  }, [me]);\r\n\r\n  async function uploadTo(bucket: Bucket, file: File, prefix?: string) {\r\n    const supabase = getSupabaseClient();\r\n    const ext = (file.name.split(\".\").pop() || \"bin\").toLowerCase();\r\n    const id = crypto.randomUUID();\r\n    const path = prefix ? `${prefix}/${id}.${ext}` : `${id}.${ext}`;\r\n    const { error } = await supabase.storage.from(bucket).upload(path, file, {\r\n      cacheControl: \"3600\",\r\n      upsert: false,\r\n    });\r\n    if (error) throw error;\r\n    const { data } = supabase.storage.from(bucket).getPublicUrl(path);\r\n    return data.publicUrl;\r\n  }\r\n\r\n  async function handleAddSong(data: {\r\n    title: string;\r\n    artist: string;\r\n    audioFile: File;\r\n    coverFile: File;\r\n  }) {\r\n    setBusy(true);\r\n    setMsg(\"\");\r\n    try {\r\n      const audio_url = await uploadTo(\"songs\", data.audioFile);\r\n      const cover_image_url = await uploadTo(\"covers\", data.coverFile, \"songs\");\r\n      const insertPayload = {\r\n        title: data.title,\r\n        artist: data.artist,\r\n        audio_url,\r\n        cover_image_url,\r\n      };\r\n      const supabase = getSupabaseClient();\r\n      const { error } = await supabase.from(\"songs\").insert(insertPayload);\r\n      if (error) throw error;\r\n      setMsg(\"Song uploaded successfully! âœ¨\");\r\n      setTimeout(() => setMsg(\"\"), 3000);\r\n    } catch (err: unknown) {\r\n      const message = err instanceof Error ? err.message : \"Failed to add song\";\r\n      setMsg(message);\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  async function handleCreatePlaylist(data: {\r\n    name: string;\r\n    description: string;\r\n    coverFile: File | null;\r\n  }) {\r\n    if (!me?.id) return;\r\n    setPlBusy(true);\r\n    setMsg(\"\");\r\n    try {\r\n      const cover_image_url = data.coverFile\r\n        ? await uploadTo(\"covers\", data.coverFile, `playlists/${me.id}`)\r\n        : null;\r\n      const supabase = getSupabaseClient();\r\n      const { error } = await supabase.from(\"playlists\").insert({\r\n        user_id: me.id,\r\n        name: data.name.trim(),\r\n        description: data.description.trim() || null,\r\n        cover_image_url,\r\n      });\r\n      if (error) throw error;\r\n      await loadPlaylists(me.id);\r\n      setMsg(\"Playlist created successfully! ðŸŽ‰\");\r\n      setTimeout(() => setMsg(\"\"), 3000);\r\n    } catch (err: unknown) {\r\n      const message = err instanceof Error ? err.message : \"Failed to create playlist\";\r\n      setMsg(message);\r\n    } finally {\r\n      setPlBusy(false);\r\n    }\r\n  }\r\n\r\n  async function openPlaylist(playlistId: number) {\r\n    setOpenPlaylistId(playlistId);\r\n    setOpenPlaylistSongs(null);\r\n    const supabase = getSupabaseClient();\r\n    const { data, error } = await supabase\r\n      .from(\"playlist_songs\")\r\n      .select(\"added_at, position, song:songs(*)\")\r\n      .eq(\"playlist_id\", playlistId)\r\n      .order(\"position\", { ascending: true })\r\n      .order(\"added_at\", { ascending: true });\r\n    if (error) {\r\n      setMsg(error.message || \"Failed to load playlist songs\");\r\n      return;\r\n    }\r\n    const transformedData = (data ?? []).map((row: SupabasePlaylistSongResponse) => ({\r\n      added_at: row.added_at,\r\n      position: row.position,\r\n      song: Array.isArray(row.song) ? row.song[0] : row.song,\r\n    })) as PlaylistSongRow[];\r\n    setOpenPlaylistSongs(transformedData);\r\n  }\r\n\r\n  async function removeSongFromPlaylist(playlistId: number, songId: number) {\r\n    const supabase = getSupabaseClient();\r\n    const { error } = await supabase\r\n      .from(\"playlist_songs\")\r\n      .delete()\r\n      .match({ playlist_id: playlistId, song_id: songId });\r\n    if (error) {\r\n      setMsg(error.message || \"Failed to remove\");\r\n      return;\r\n    }\r\n    setMsg(\"Removed from playlist\");\r\n    setTimeout(() => setMsg(\"\"), 2000);\r\n    await openPlaylist(playlistId);\r\n    await loadPlaylists(me!.id);\r\n  }\r\n\r\n  async function deletePlaylist(playlistId: number) {\r\n    const supabase = getSupabaseClient();\r\n    const { error } = await supabase.from(\"playlists\").delete().eq(\"id\", playlistId);\r\n    if (error) {\r\n      setMsg(error.message || \"Failed to delete playlist\");\r\n      return;\r\n    }\r\n    setMsg(\"Playlist deleted\");\r\n    setTimeout(() => setMsg(\"\"), 2000);\r\n    if (openPlaylistId === playlistId) {\r\n      setOpenPlaylistId(null);\r\n      setOpenPlaylistSongs(null);\r\n    }\r\n    setPlaylists((prev) => prev.filter((p) => p.id !== playlistId));\r\n  }\r\n\r\n  function playFromModal(song: Song) {\r\n    if (!player) return;\r\n    const queue = (openPlaylistSongs?.map((r) => r.song) ?? [song]) as Song[];\r\n    player.playNow(song, queue);\r\n  }\r\n\r\n  async function handleLogout() {\r\n    const supabase = getSupabaseClient();\r\n    await supabase.auth.signOut();\r\n    window.location.href = \"/\";\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <main className=\"min-h-screen grid place-items-center bg-black text-white\">\r\n        <div className=\"flex flex-col items-center gap-4\">\r\n          <div className=\"h-12 w-12 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin\" />\r\n          <p className=\"text-zinc-400\">Loading Dashboard...</p>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  if (!me) {\r\n    return (\r\n      <main className=\"min-h-screen grid place-items-center bg-black text-white p-4 relative overflow-hidden\">\r\n        <div\r\n          aria-hidden\r\n          className=\"pointer-events-none absolute inset-0\"\r\n          style={{\r\n            background:\r\n              \"radial-gradient(1000px 500px at 10% -10%, rgba(6,182,212,0.15), transparent 60%)\",\r\n          }}\r\n        />\r\n        <div className=\"max-w-md px-4 text-center relative\">\r\n          <div className=\"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-cyan-500/10 ring-1 ring-cyan-500/20\">\r\n            <svg className=\"h-10 w-10 text-cyan-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n            </svg>\r\n          </div>\r\n          <h1 className=\"text-3xl font-bold mb-3\">Authentication Required</h1>\r\n          <p className=\"text-zinc-400\">Please sign in to access your dashboard.</p>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  const currentPlaylist = openPlaylistId\r\n    ? playlists.find((p) => p.id === openPlaylistId) || null\r\n    : null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black text-white\">\r\n      {/* Header */}\r\n      <Header\r\n        searchQuery={searchQuery}\r\n        setSearchQuery={setSearchQuery}\r\n        setCurrentPage={setCurrentPage}\r\n        mobileMenuOpen={mobileMenuOpen}\r\n        setMobileMenuOpen={setMobileMenuOpen}\r\n        mobileSearchOpen={mobileSearchOpen}\r\n        setMobileSearchOpen={setMobileSearchOpen}\r\n        authUser={{ email: me.email, user_metadata: { display_name: me.display_name, avatar_url: me.avatar_url } }}\r\n        handleLogout={handleLogout}\r\n      />\r\n\r\n      <main className=\"relative overflow-hidden pb-32\">\r\n        {/* Background Effects */}\r\n        <div\r\n          aria-hidden\r\n          className=\"pointer-events-none absolute inset-0\"\r\n          style={{\r\n            background:\r\n              \"radial-gradient(1100px 550px at 10% -10%, rgba(6,182,212,0.08), transparent 60%), radial-gradient(900px 520px at 110% 15%, rgba(168,85,247,0.08), transparent 60%)\",\r\n          }}\r\n        />\r\n        <div\r\n          aria-hidden\r\n          className=\"pointer-events-none absolute inset-0 opacity-[0.02] [background-image:linear-gradient(to_right,rgba(255,255,255,.5)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,.5)_1px,transparent_1px)] [background-size:64px_64px]\"\r\n        />\r\n\r\n        <div className=\"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8 space-y-8\">\r\n          {/* Profile Section */}\r\n          <ProfileSection\r\n            displayName={displayName}\r\n            email={me.email}\r\n            avatarUrl={me.avatar_url}\r\n          />\r\n\r\n          {/* Message */}\r\n          {msg && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: -12 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"rounded-xl border border-cyan-500/30 bg-cyan-500/10 backdrop-blur-xl px-5 py-4 text-sm shadow-lg shadow-cyan-500/10\"\r\n            >\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"h-2 w-2 rounded-full bg-cyan-400 animate-pulse\" />\r\n                <span className=\"text-white font-medium\">{msg}</span>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Upload & Create Section */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-15\">\r\n            <UploadSongForm onSubmit={handleAddSong} busy={busy} />\r\n            <CreatePlaylistForm onSubmit={handleCreatePlaylist} busy={plBusy} />\r\n          </div>\r\n\r\n          {/* Playlists Section */}\r\n          <section className=\"space-y-6\">\r\n            <div className=\"flex items-center mt-15 justify-between\">\r\n              <h2 className=\"text-3xl font-bold\">Your Playlists</h2>\r\n              <span className=\"text-sm text-zinc-500\">\r\n                {playlists.length} playlist{playlists.length === 1 ? \"\" : \"s\"}\r\n              </span>\r\n            </div>\r\n            <PlaylistGrid\r\n              playlists={playlists}\r\n              onOpen={openPlaylist}\r\n              onDelete={deletePlaylist}\r\n            />\r\n          </section>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <footer className=\"mt-17 bg-black/50 backdrop-blur-xl\">\r\n          <div className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-0 text-center\">\r\n            <p className=\"text-sm text-zinc-500 mb-2\">\r\n              Â© {new Date().getFullYear()} Hey Melody. All Rights Reserved\r\n            </p>\r\n            <p className=\"text-sm text-zinc-600\">\r\n              Designed & Developed by{\" \"}\r\n              <a\r\n                href=\"https://github.com/SubhradeepNathGit\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-cyan-400 hover:text-cyan-300 transition-colors\"\r\n              >\r\n                Subhradeep Nath\r\n              </a>\r\n            </p>\r\n          </div>\r\n        </footer>\r\n      </main>\r\n\r\n      {/* Playlist Modal */}\r\n      {openPlaylistId !== null && (\r\n        <PlaylistModal\r\n          playlist={currentPlaylist}\r\n          songs={openPlaylistSongs}\r\n          onClose={() => {\r\n            setOpenPlaylistId(null);\r\n            setOpenPlaylistSongs(null);\r\n          }}\r\n          onPlay={playFromModal}\r\n          onRemove={(songId) => removeSongFromPlaylist(openPlaylistId, songId)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\AddToPlaylistModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[323,326],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[323,326],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { RxCross2 } from \"react-icons/rx\";\r\nimport type { Song } from \"../types/song\";\r\n\r\ntype Playlist = {\r\n  id: number;\r\n  name: string;\r\n  description?: string | null;\r\n};\r\n\r\ntype AddToPlaylistModalProps = {\r\n  pickerForSong: Song | null;\r\n  setPickerForSong: (song: Song | null) => void;\r\n  authUser: any;\r\n  playlists: Playlist[] | undefined;\r\n  playlistsLoading: boolean;\r\n  newPlaylistName: string;\r\n  setNewPlaylistName: (name: string) => void;\r\n  onAddToPlaylist: (playlistId: number, songId: number) => void;\r\n  handleCreateAndAdd: () => void;\r\n  createPlaylistPending: boolean;\r\n  addToPlaylistPending: boolean;\r\n};\r\n\r\nexport default function AddToPlaylistModal({\r\n  pickerForSong,\r\n  setPickerForSong,\r\n  authUser,\r\n  playlists,\r\n  playlistsLoading,\r\n  newPlaylistName,\r\n  setNewPlaylistName,\r\n  onAddToPlaylist,\r\n  handleCreateAndAdd,\r\n  createPlaylistPending,\r\n  addToPlaylistPending,\r\n}: AddToPlaylistModalProps) {\r\n  if (!pickerForSong) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[60] grid place-items-end md:place-items-center p-0 md:p-4\" role=\"dialog\" aria-modal=\"true\">\r\n      <button\r\n        className=\"absolute inset-0 bg-black/80 backdrop-blur-sm\"\r\n        aria-label=\"Close\"\r\n        onClick={() => setPickerForSong(null)}\r\n      />\r\n      <div className=\"relative w-full md:max-w-lg h-[85vh] md:h-auto max-h-[85vh] md:max-h-[90vh] rounded-t-3xl md:rounded-2xl bg-zinc-950 border border-zinc-800 shadow-2xl p-6 md:p-7 flex flex-col\">\r\n        <div className=\"flex items-start justify-between gap-3 mb-6\">\r\n          <div className=\"min-w-0\">\r\n            <h3 className=\"text-xl font-bold bg-gradient-to-r from-white to-zinc-400 bg-clip-text text-transparent\">\r\n              Add to playlist\r\n            </h3>\r\n            <p className=\"text-sm text-zinc-400 mt-2 line-clamp-1\">\r\n              {pickerForSong.title} â€” {pickerForSong.artist}\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={() => setPickerForSong(null)}\r\n            className=\"h-10 w-10 rounded-xl bg-zinc-900 border border-zinc-800 hover:bg-zinc-800 hover:border-cyan-500/30 text-sm grid place-items-center transition-all\"\r\n            aria-label=\"Close\"\r\n          >\r\n            <RxCross2 className=\"text-lg\" />\r\n          </button>\r\n        </div>\r\n\r\n        {!authUser ? (\r\n          <div className=\"mt-5\">\r\n            <p className=\"text-zinc-300\">Please log in to use playlists.</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"flex-1 overflow-hidden\">\r\n              <p className=\"text-sm text-zinc-400 font-medium mb-3\">Your playlists</p>\r\n              <div className=\"overflow-y-auto max-h-64 space-y-2 pr-2 scrollbar-thin scrollbar-thumb-zinc-800 scrollbar-track-transparent\">\r\n                {playlistsLoading ? (\r\n                  <p className=\"text-zinc-400 text-sm\">Loadingâ€¦</p>\r\n                ) : playlists && playlists.length > 0 ? (\r\n                  playlists.map((pl) => (\r\n                    <button\r\n                      key={pl.id}\r\n                      onClick={() => onAddToPlaylist(pl.id, pickerForSong.id as unknown as number)}\r\n                      className=\"w-full text-left px-4 py-3 rounded-xl bg-zinc-900 hover:bg-zinc-800 hover:border-cyan-500/30 border border-zinc-800 transition-all font-medium\"\r\n                    >\r\n                      {pl.name}\r\n                    </button>\r\n                  ))\r\n                ) : (\r\n                  <p className=\"text-zinc-500 text-sm\">No playlists yet.</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-6 pt-6 border-t border-zinc-800\">\r\n              <p className=\"text-sm text-zinc-400 font-medium mb-3\">Create new playlist</p>\r\n              <div className=\"flex items-center gap-3\">\r\n                <input\r\n                  value={newPlaylistName}\r\n                  onChange={(e) => setNewPlaylistName(e.target.value)}\r\n                  placeholder=\"Playlist name\"\r\n                  className=\"flex-1 h-11 rounded-xl bg-zinc-900 border border-zinc-800 px-4 outline-none placeholder:text-zinc-500 focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20 transition-all\"\r\n                />\r\n                <button\r\n                  onClick={handleCreateAndAdd}\r\n                  disabled={createPlaylistPending || addToPlaylistPending}\r\n                  className=\"h-11 px-5 rounded-xl bg-gradient-to-r from-cyan-500 to-cyan-600 text-black font-bold hover:from-cyan-400 hover:to-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-cyan-500/20\"\r\n                >\r\n                  {createPlaylistPending ? \"Creatingâ€¦\" : \"Create\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\AllSongs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\Header.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[508,511],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[508,511],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":105,"column":25,"nodeType":"JSXOpeningElement","endLine":109,"endColumn":27}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { GoSearch } from \"react-icons/go\";\r\nimport { RxHamburgerMenu, RxCross2 } from \"react-icons/rx\";\r\nimport Logo from \"./Logo\";\r\n\r\ntype HeaderProps = {\r\n  searchQuery: string;\r\n  setSearchQuery: (q: string) => void;\r\n  setCurrentPage: (p: number) => void;\r\n  mobileMenuOpen: boolean;\r\n  setMobileMenuOpen: (open: boolean) => void;\r\n  mobileSearchOpen: boolean;\r\n  setMobileSearchOpen: (open: boolean) => void;\r\n  authUser: any;\r\n  handleLogout: () => void;\r\n};\r\n\r\nexport default function Header({\r\n  searchQuery,\r\n  setSearchQuery,\r\n  setCurrentPage,\r\n  mobileMenuOpen,\r\n  setMobileMenuOpen,\r\n  mobileSearchOpen,\r\n  setMobileSearchOpen,\r\n  authUser,\r\n  handleLogout,\r\n}: HeaderProps) {\r\n  return (\r\n    <header className=\"sticky top-0 z-50 border-b border-zinc-800/50 bg-black/80 backdrop-blur-xl\">\r\n      <div className=\"mx-auto max-w-[1920px] px-4 sm:px-6 lg:px-8\">\r\n        <nav className=\"py-4\">\r\n          <div className=\"flex items-center gap-4 sm:gap-6 w-full\">\r\n            {/* Logo */}\r\n            <div className=\"flex items-center gap-3 shrink-0\">\r\n              <div className=\"h-10 w-10 rounded-xl bg-gradient-to-br from-cyan-400 to-cyan-600 grid place-items-center shadow-lg shadow-cyan-500/20\">\r\n                <Logo />\r\n              </div>\r\n              <span className=\"font-bold tracking-tight text-lg sm:text-xl block\">\r\n                <span className=\"text-white\">Hey </span>\r\n                <span className=\"bg-gradient-to-r from-cyan-200 to-cyan-500 bg-clip-text text-transparent\">\r\n                  Melody\r\n                </span>\r\n              </span>\r\n            </div>\r\n\r\n            {/* Desktop Search */}\r\n            <div className=\"hidden md:flex flex-1 justify-center\">\r\n              <div className=\"relative group w-full max-w-xl\">\r\n                <GoSearch className=\"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-cyan-400 transition-colors text-lg pointer-events-none\" />\r\n                <input\r\n                  value={searchQuery}\r\n                  onChange={(e) => {\r\n                    setSearchQuery(e.target.value);\r\n                    setCurrentPage(1);\r\n                  }}\r\n                  placeholder=\"Search for songs, artists, albums...\"\r\n                  aria-label=\"Search songs or artists\"\r\n                  className=\"w-full rounded-xl pl-12 pr-4 h-11 bg-zinc-900 border border-zinc-800 placeholder:text-zinc-500 text-white focus:outline-none focus:border-cyan-500/50 focus:bg-zinc-900 focus:ring-2 focus:ring-cyan-500/20 transition-all\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"ml-auto flex items-center gap-2\">\r\n              {/* Mobile Search Toggle */}\r\n              <button\r\n                className=\"md:hidden h-10 w-10 rounded-xl bg-zinc-900 border border-zinc-800 grid place-items-center hover:bg-zinc-800 hover:border-cyan-500/30 transition-all\"\r\n                aria-label=\"Toggle search\"\r\n                onClick={() => {\r\n                  setMobileSearchOpen(!mobileSearchOpen);\r\n                  if (!mobileSearchOpen) setMobileMenuOpen(false);\r\n                }}\r\n              >\r\n                <GoSearch className=\"text-lg\" />\r\n              </button>\r\n\r\n              <div className=\"hidden md:flex items-center gap-4\">\r\n                {!authUser ? (\r\n                  <>\r\n                    <Link\r\n                      href=\"/signup\"\r\n                      className=\"px-5 h-10 rounded-xl text-sm font-medium bg-zinc-900 border border-zinc-800 hover:bg-zinc-800 hover:border-cyan-500/30 transition-all flex items-center\"\r\n                    >\r\n                      Sign up\r\n                    </Link>\r\n                    <Link\r\n                      href=\"/login\"\r\n                      className=\"px-5 h-10 rounded-xl text-sm font-bold bg-gradient-to-r from-cyan-500 to-cyan-600 text-black hover:from-cyan-400 hover:to-cyan-500 transition-all shadow-lg shadow-cyan-500/20 flex items-center\"\r\n                    >\r\n                      Log in\r\n                    </Link>\r\n                  </>\r\n                ) : (\r\n                  <div className=\"flex items-center gap-6\">\r\n                    <Link\r\n                      href=\"/user-dashboard\"\r\n                      className=\"flex items-center gap-3 group\"\r\n                      title=\"Open your dashboard\"\r\n                    >\r\n                      {authUser.user_metadata?.avatar_url ? (\r\n                        <img\r\n                          src={authUser.user_metadata.avatar_url}\r\n                          alt={authUser.user_metadata?.display_name || authUser.email || \"User\"}\r\n                          className=\"h-8 w-8 rounded-full object-cover border-2 border-transparent group-hover:border-cyan-400 transition-all shadow-md\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"h-8 w-8 rounded-full bg-gradient-to-br from-cyan-400 to-cyan-600 text-white grid place-items-center text-sm font-bold shadow-md group-hover:shadow-cyan-500/30 transition-all\">\r\n                          {(authUser.user_metadata?.display_name || authUser.email || \"U\")\r\n                            .toString()\r\n                            .trim()\r\n                            .charAt(0)\r\n                            .toUpperCase()}\r\n                        </div>\r\n                      )}\r\n                      <span className=\"text-sm font-medium max-w-[150px] truncate group-hover:text-cyan-400 transition-colors\">\r\n                        {authUser.user_metadata?.display_name || authUser.user_metadata?.full_name || authUser.email}\r\n                      </span>\r\n                    </Link>\r\n                    <button\r\n                      onClick={handleLogout}\r\n                      className=\"px-4 h-10 rounded-xl text-sm font-medium bg-zinc-900 border border-zinc-800 hover:bg-zinc-800 hover:border-cyan-500/30 transition-all\"\r\n                    >\r\n                      Log out\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Mobile Menu Toggle */}\r\n              <button\r\n                className=\"md:hidden h-10 w-10 rounded-xl bg-zinc-900 border border-zinc-800 grid place-items-center hover:bg-zinc-800 hover:border-cyan-500/30 transition-all\"\r\n                aria-label=\"Toggle menu\"\r\n                onClick={() => {\r\n                  setMobileMenuOpen(!mobileMenuOpen);\r\n                  if (!mobileMenuOpen) setMobileSearchOpen(false);\r\n                }}\r\n              >\r\n                {mobileMenuOpen ? <RxCross2 /> : <RxHamburgerMenu />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Mobile Search */}\r\n          <div\r\n            className={`md:hidden overflow-hidden transition-all duration-300 ${\r\n              mobileSearchOpen ? \"max-h-24 mt-4\" : \"max-h-0\"\r\n            }`}\r\n          >\r\n            <div className=\"relative group\">\r\n              <GoSearch className=\"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-cyan-400 transition-colors text-lg pointer-events-none\" />\r\n              <input\r\n                value={searchQuery}\r\n                onChange={(e) => {\r\n                  setSearchQuery(e.target.value);\r\n                  setCurrentPage(1);\r\n                }}\r\n                placeholder=\"Search songs or artists\"\r\n                aria-label=\"Search songs or artists\"\r\n                className=\"w-full rounded-xl pl-12 pr-4 h-11 bg-zinc-900 border border-zinc-800 placeholder:text-zinc-500 text-white focus:outline-none focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20 transition-all\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Mobile Menu */}\r\n          <div\r\n            className={`md:hidden overflow-hidden transition-all duration-300 ${\r\n              mobileMenuOpen ? \"max-h-48 mt-4\" : \"max-h-0\"\r\n            }`}\r\n          >\r\n            <div className=\"grid gap-2\">\r\n              {!authUser ? (\r\n                <>\r\n                  <Link\r\n                    href=\"/signup\"\r\n                    className=\"w-full text-center px-4 h-11 rounded-xl text-sm font-medium bg-zinc-900 border border-zinc-800 hover:bg-zinc-800 transition-all flex items-center justify-center\"\r\n                    onClick={() => setMobileMenuOpen(false)}\r\n                  >\r\n                    Sign up\r\n                  </Link>\r\n                  <Link\r\n                    href=\"/login\"\r\n                    className=\"w-full text-center px-4 h-11 rounded-xl text-sm font-bold bg-gradient-to-r from-cyan-500 to-cyan-600 text-white hover:from-cyan-400 hover:to-cyan-500 transition-all shadow-lg shadow-cyan-500/20 flex items-center justify-center\"\r\n                    onClick={() => setMobileMenuOpen(false)}\r\n                  >\r\n                    Log in\r\n                  </Link>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Link\r\n                    href=\"/user-dashboard\"\r\n                    className=\"flex items-center gap-3 px-4 h-11 rounded-xl bg-zinc-900 border border-zinc-800 hover:bg-zinc-800 transition-all\"\r\n                    onClick={() => setMobileMenuOpen(false)}\r\n                    title=\"Open your dashboard\"\r\n                  >\r\n                    {authUser.user_metadata?.avatar_url ? (\r\n                      <Image\r\n                        src={authUser.user_metadata.avatar_url}\r\n                        alt={authUser.user_metadata?.display_name || authUser.email || \"User\"}\r\n                        width={28}\r\n                        height={28}\r\n                        className=\"h-7 w-7 rounded-lg object-cover border-2 border-cyan-500/30 shadow-lg shadow-cyan-500/20\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"h-7 w-7 rounded-lg bg-gradient-to-br from-cyan-400 to-cyan-600 text-black grid place-items-center text-xs font-bold shadow-lg shadow-cyan-500/20\">\r\n                        {(authUser.user_metadata?.display_name || authUser.email || \"U\")\r\n                          .toString()\r\n                          .trim()\r\n                          .charAt(0)\r\n                          .toUpperCase()}\r\n                      </div>\r\n                    )}\r\n                    <span className=\"text-sm truncate font-medium\">\r\n                      {authUser.user_metadata?.display_name || authUser.user_metadata?.full_name || authUser.email}\r\n                    </span>\r\n                  </Link>\r\n                  <button\r\n                    onClick={handleLogout}\r\n                    className=\"w-full px-4 h-11 rounded-xl text-sm font-medium bg-zinc-900 border border-zinc-800 hover:bg-zinc-800 transition-all\"\r\n                  >\r\n                    Log out\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\LeftSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\Loader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\Logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\MusicPlayer.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'setQueueModalOpen' and 'toggleMute'. Either include them or remove the dependency array.","line":207,"column":6,"nodeType":"ArrayExpression","endLine":207,"endColumn":43,"suggestions":[{"desc":"Update the dependencies array to be: [isPlaying, volume, isQueueModalOpen, toggleMute, setQueueModalOpen]","fix":{"range":[6417,6454],"text":"[isPlaying, volume, isQueueModalOpen, toggleMute, setQueueModalOpen]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  IoMdPause,\r\n  IoMdPlay,\r\n  IoMdSkipBackward,\r\n  IoMdSkipForward,\r\n  IoMdVolumeHigh,\r\n  IoMdVolumeOff,\r\n} from \"react-icons/io\";\r\nimport { LuRepeat, LuRepeat1 } from \"react-icons/lu\";\r\nimport { MdOutlineQueueMusic } from \"react-icons/md\";\r\nimport { PlayerContext } from \"../../layouts/FrontendLayout\";\r\nimport Queue from \"./Queue\";\r\n\r\nfunction formatTime(t: number) {\r\n  if (!Number.isFinite(t) || t <= 0) return \"0:00\";\r\n  const m = Math.floor(t / 60);\r\n  const s = Math.floor(t % 60).toString().padStart(2, \"0\");\r\n  return `${m}:${s}`;\r\n}\r\n\r\nexport default function MusicPlayer() {\r\n  const ctx = useContext(PlayerContext);\r\n  if (!ctx) throw new Error(\"MusicPlayer must be used inside PlayerContext.Provider\");\r\n\r\n  const { currentMusic, playNext, playPrev, isQueueModalOpen, setQueueModalOpen } = ctx;\r\n\r\n  const audioRef = useRef<HTMLAudioElement | null>(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [repeatSong, setRepeatSong] = useState(false);\r\n\r\n  const [volume, setVolume] = useState(50);\r\n  const [previousVolume, setPreviousVolume] = useState(50);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n    const v = Number(localStorage.getItem(\"bh_volume\"));\r\n    const initialVol = Number.isFinite(v) ? Math.min(Math.max(v, 0), 100) : 50;\r\n    setVolume(initialVol);\r\n    setPreviousVolume(initialVol);\r\n  }, []);\r\n\r\n  const currentTrackId = currentMusic?.id ?? \"none\";\r\n  const audioSrc: string | undefined = currentMusic?.audio_url || undefined;\r\n  const cover = currentMusic?.cover_image_url ?? \"\";\r\n  const title = currentMusic?.title ?? \"\";\r\n  const artist = currentMusic?.artist ?? \"\";\r\n\r\n  useEffect(() => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n\r\n    const onPlay = () => setIsPlaying(true);\r\n    const onPause = () => setIsPlaying(false);\r\n    const onTime = () => setCurrentTime(audio.currentTime || 0);\r\n    const onMeta = () => setDuration(Number.isFinite(audio.duration) ? audio.duration : 0);\r\n    const onDur = () => setDuration(Number.isFinite(audio.duration) ? audio.duration : 0);\r\n    const onEnded = () => {\r\n      if (!audio.loop) playNext();\r\n    };\r\n\r\n    audio.addEventListener(\"play\", onPlay);\r\n    audio.addEventListener(\"pause\", onPause);\r\n    audio.addEventListener(\"timeupdate\", onTime);\r\n    audio.addEventListener(\"loadedmetadata\", onMeta);\r\n    audio.addEventListener(\"durationchange\", onDur);\r\n    audio.addEventListener(\"ended\", onEnded);\r\n\r\n    return () => {\r\n      audio.removeEventListener(\"play\", onPlay);\r\n      audio.removeEventListener(\"pause\", onPause);\r\n      audio.removeEventListener(\"timeupdate\", onTime);\r\n      audio.removeEventListener(\"loadedmetadata\", onMeta);\r\n      audio.removeEventListener(\"durationchange\", onDur);\r\n      audio.removeEventListener(\"ended\", onEnded);\r\n    };\r\n  }, [playNext]);\r\n\r\n  useEffect(() => {\r\n    if (audioRef.current) audioRef.current.volume = volume / 100;\r\n    if (typeof window !== \"undefined\") localStorage.setItem(\"bh_volume\", String(volume));\r\n  }, [volume]);\r\n\r\n  useEffect(() => {\r\n    if (audioRef.current) audioRef.current.loop = repeatSong;\r\n  }, [repeatSong]);\r\n\r\n  useEffect(() => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n    setCurrentTime(0);\r\n    if (audioSrc) {\r\n      audio\r\n        .play()\r\n        .then(() => setIsPlaying(true))\r\n        .catch(() => setIsPlaying(false));\r\n    } else {\r\n      audio.pause();\r\n      setIsPlaying(false);\r\n      setDuration(0);\r\n    }\r\n  }, [currentTrackId, audioSrc]);\r\n\r\n  const togglePlay = () => {\r\n    const a = audioRef.current;\r\n    if (!a) return;\r\n    if (a.paused) a.play().catch(() => {});\r\n    else a.pause();\r\n  };\r\n\r\n  const onSeek = (val: number) => {\r\n    const a = audioRef.current;\r\n    if (!a || !Number.isFinite(val)) return;\r\n    a.currentTime = val;\r\n    setCurrentTime(val);\r\n  };\r\n\r\n  const onVolume = (val: number) => {\r\n    if (!Number.isFinite(val)) return;\r\n    setVolume(val);\r\n    if (audioRef.current) audioRef.current.volume = val / 100;\r\n    if (val > 0) setPreviousVolume(val);\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    if (volume === 0) onVolume(previousVolume || 50);\r\n    else {\r\n      setPreviousVolume(volume);\r\n      onVolume(0);\r\n    }\r\n  };\r\n\r\n  // -------------------------------------------------------\r\n  // ðŸŽ¹ KEYBOARD SHORTCUTS ADDED HERE\r\n  // -------------------------------------------------------\r\n  useEffect(() => {\r\n    const handleKey = (e: KeyboardEvent) => {\r\n      const target = e.target as HTMLElement;\r\n      const typing =\r\n        [\"INPUT\", \"TEXTAREA\", \"SELECT\"].includes(target.tagName) ||\r\n        target.isContentEditable;\r\n      if (typing) return;\r\n\r\n      // SPACE â†’ Play / Pause\r\n      if (e.code === \"Space\") {\r\n        e.preventDefault();\r\n        togglePlay();\r\n        return;\r\n      }\r\n\r\n      // LEFT Arrow â†’ Seek -5 sec\r\n      if (e.code === \"ArrowLeft\") {\r\n        e.preventDefault();\r\n        const a = audioRef.current;\r\n        if (!a) return;\r\n        a.currentTime = Math.max(0, a.currentTime - 5);\r\n        setCurrentTime(a.currentTime);\r\n        return;\r\n      }\r\n\r\n      // RIGHT Arrow â†’ Seek +5 sec\r\n      if (e.code === \"ArrowRight\") {\r\n        e.preventDefault();\r\n        const a = audioRef.current;\r\n        if (!a) return;\r\n        a.currentTime = Math.min(a.duration, a.currentTime + 5);\r\n        setCurrentTime(a.currentTime);\r\n        return;\r\n      }\r\n\r\n      // UP Arrow â†’ Volume +5\r\n      if (e.code === \"ArrowUp\") {\r\n        e.preventDefault();\r\n        onVolume(Math.min(100, volume + 5));\r\n        return;\r\n      }\r\n\r\n      // DOWN Arrow â†’ Volume -5\r\n      if (e.code === \"ArrowDown\") {\r\n        e.preventDefault();\r\n        onVolume(Math.max(0, volume - 5));\r\n        return;\r\n      }\r\n\r\n      // M â†’ Mute / Unmute\r\n      if (e.key.toLowerCase() === \"m\") {\r\n        e.preventDefault();\r\n        toggleMute();\r\n        return;\r\n      }\r\n\r\n      // Q â†’ Toggle queue\r\n      if (e.key.toLowerCase() === \"q\") {\r\n        e.preventDefault();\r\n        setQueueModalOpen(!isQueueModalOpen);\r\n        return;\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKey);\r\n    return () => window.removeEventListener(\"keydown\", handleKey);\r\n  }, [isPlaying, volume, isQueueModalOpen]);\r\n  // -------------------------------------------------------\r\n\r\n  const isVisible = Boolean(currentMusic && audioSrc);\r\n  const safeDuration = Number.isFinite(duration) && duration > 0 ? duration : 0;\r\n  const safeCurrent = Math.min(currentTime, safeDuration);\r\n\r\n  return (\r\n    <>\r\n      <Queue />\r\n      <div\r\n        className={`fixed bottom-0 left-0 w-full px-3 sm:px-6 py-2 sm:py-4 z-50\r\n                    pb-[calc(env(safe-area-inset-bottom)+0.5rem)]\r\n                    bg-gradient-to-r from-black/40 to-black/10 \r\n                    backdrop-blur-md border-t border-white/20\r\n                    transition-all duration-300\r\n                    ${isVisible ? \"opacity-100 translate-y-0\" : \"opacity-0 translate-y-full pointer-events-none\"}`}\r\n      >\r\n        <audio\r\n          key={`audio-${currentTrackId}`}\r\n          ref={audioRef}\r\n          src={audioSrc}\r\n          preload=\"metadata\"\r\n          controls={false}\r\n          crossOrigin=\"anonymous\"\r\n        />\r\n\r\n        <div className=\"max-w-7xl w-full mx-auto flex flex-col sm:flex-row items-center justify-between gap-2 sm:gap-5\">\r\n          <div className=\"flex items-center gap-2.5 sm:gap-4 min-w-0\">\r\n            <Image\r\n              src={cover || \"/favicon.ico\"}\r\n              alt={title ? `${title} cover` : \"cover\"}\r\n              width={56}\r\n              height={56}\r\n              className=\"w-10 h-10 sm:w-14 sm:h-14 object-cover rounded-md shadow\"\r\n              priority\r\n            />\r\n            <div className=\"min-w-0\">\r\n              <p className=\"font-semibold text-[13px] sm:text-base truncate\">{title || \"\\u00A0\"}</p>\r\n              <p className=\"text-neutral-400 text-xs sm:text-sm truncate\">{artist || \"\\u00A0\"}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"w-full sm:max-w-[480px] flex flex-col items-center gap-1.5 sm:gap-2\">\r\n            <div className=\"flex gap-3 sm:gap-6 items-center\">\r\n              <button\r\n                className=\"text-lg sm:text-2xl text-neutral-400 hover:text-white disabled:opacity-40\"\r\n                onClick={playPrev}\r\n                disabled={!isVisible}\r\n                aria-label=\"Previous\"\r\n              >\r\n                <IoMdSkipBackward />\r\n              </button>\r\n\r\n              <button\r\n                className=\"bg-cyan-500 text-white text-lg sm:text-2xl w-10 h-10 sm:w-14 sm:h-14 rounded-full grid place-items-center shadow-2xl hover:scale-110 transition-all duration-200 disabled:opacity-60\"\r\n                onClick={togglePlay}\r\n                disabled={!isVisible}\r\n                aria-label={isPlaying ? \"Pause\" : \"Play\"}\r\n              >\r\n                {isPlaying ? <IoMdPause /> : <IoMdPlay className=\"translate-x-[1px]\" />}\r\n              </button>\r\n\r\n              <button\r\n                className=\"text-lg sm:text-2xl text-neutral-400 hover:text-white disabled:opacity-40\"\r\n                onClick={playNext}\r\n                disabled={!isVisible}\r\n                aria-label=\"Next\"\r\n              >\r\n                <IoMdSkipForward />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"w-full flex items-center gap-2 text-xs sm:text-sm\">\r\n              <span className=\"hidden sm:block text-neutral-400 w-10 text-right\">\r\n                {formatTime(safeCurrent)}\r\n              </span>\r\n              <input\r\n                type=\"range\"\r\n                min={0}\r\n                max={safeDuration}\r\n                step={0.1}\r\n                value={safeCurrent}\r\n                onChange={(e) => onSeek(Number(e.target.value))}\r\n                onInput={(e) => onSeek(Number((e.target as HTMLInputElement).value))}\r\n                className=\"\r\n                  w-full h-1.5 rounded-full cursor-pointer appearance-none\r\n                  bg-zinc-700\r\n                  [&::-webkit-slider-thumb]:appearance-none\r\n                  [&::-webkit-slider-thumb]:h-3\r\n                  [&::-webkit-slider-thumb]:w-3\r\n                  [&::-webkit-slider-thumb]:rounded-full\r\n                  [&::-webkit-slider-thumb]:bg-white\r\n                  [&::-moz-range-thumb]:h-3\r\n                  [&::-moz-range-thumb]:w-3\r\n                  [&::-moz-range-thumb]:rounded-full\r\n                  [&::-moz-range-thumb]:bg-white\r\n                \"\r\n              />\r\n              <span className=\"hidden sm:block text-neutral-400 w-10\">\r\n                {formatTime(safeDuration)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2.5 sm:gap-4\">\r\n            <button\r\n              className={`text-base sm:text-xl ${repeatSong ? \"text-cyan-400\" : \"text-neutral-400 hover:text-white\"}`}\r\n              onClick={() => setRepeatSong((r) => !r)}\r\n              title=\"Repeat\"\r\n              aria-pressed={repeatSong}\r\n            >\r\n              {repeatSong ? <LuRepeat1 /> : <LuRepeat />}\r\n            </button>\r\n\r\n            <button\r\n              className=\"text-neutral-400 text-base sm:text-xl hover:text-white\"\r\n              onClick={() => setQueueModalOpen(!isQueueModalOpen)}\r\n              title=\"Open queue\"\r\n              aria-expanded={isQueueModalOpen}\r\n            >\r\n              <MdOutlineQueueMusic className=\"text-cyan-400\" />\r\n            </button>\r\n\r\n            <button\r\n              className=\"text-neutral-400 text-base sm:text-xl hover:text-white\"\r\n              onClick={toggleMute}\r\n              title={volume === 0 ? \"Unmute\" : \"Mute\"}\r\n              aria-pressed={volume === 0}\r\n            >\r\n              {volume === 0 ? <IoMdVolumeOff /> : <IoMdVolumeHigh />}\r\n            </button>\r\n\r\n            <input\r\n              type=\"range\"\r\n              min={0}\r\n              max={100}\r\n              value={volume}\r\n              onChange={(e) => onVolume(Number(e.target.value))}\r\n              onInput={(e) => onVolume(Number((e.target as HTMLInputElement).value))}\r\n              className=\"\r\n                hidden sm:block\r\n                w-[120px] h-1.5 rounded-full cursor-pointer appearance-none\r\n                bg-zinc-700\r\n                [&::-webkit-slider-thumb]:appearance-none\r\n                [&::-webkit-slider-thumb]:h-3\r\n                [&::-webkit-slider-thumb]:w-3\r\n                [&::-webkit-slider-thumb]:rounded-full\r\n                [&::-webkit-slider-thumb]:bg-white\r\n                [&::-moz-range-thumb]:h-3\r\n                [&::-moz-range-thumb]:w-3\r\n                [&::-moz-range-thumb]:rounded-full\r\n                [&::-moz-range-thumb]:bg-white\r\n              \"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\NowPlayingSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\Pagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\Queue.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\SongCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\dashboard\\CreatePlaylistForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\dashboard\\PlaylistGrid.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":50,"column":17,"nodeType":"JSXOpeningElement","endLine":54,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\ntype Playlist = {\r\n  id: number;\r\n  user_id: string;\r\n  name: string;\r\n  description: string | null;\r\n  is_public: boolean;\r\n  created_at: string;\r\n  cover_image_url: string | null;\r\n  playlist_songs?: { song_id: string }[];\r\n};\r\n\r\ntype PlaylistGridProps = {\r\n  playlists: Playlist[];\r\n  onOpen: (id: number) => void;\r\n  onDelete: (id: number) => void;\r\n};\r\n\r\nexport default function PlaylistGrid({ playlists, onOpen, onDelete }: PlaylistGridProps) {\r\n  if (playlists.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-12 sm:py-16 md:py-20 px-4 rounded-2xl sm:rounded-3xl border border-white/10 bg-zinc-900/30 backdrop-blur-xl\">\r\n        <div className=\"inline-flex h-16 w-16 sm:h-20 sm:w-20 items-center justify-center rounded-full bg-cyan-500/10 mb-4 sm:mb-6 ring-1 ring-cyan-500/30\">\r\n          <svg className=\"h-8 w-8 sm:h-10 sm:w-10 text-cyan-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\r\n          </svg>\r\n        </div>\r\n        <h3 className=\"text-lg sm:text-xl font-bold text-white mb-2\">No playlists yet</h3>\r\n        <p className=\"text-sm sm:text-base text-zinc-400 max-w-md mx-auto\">\r\n          Create your first playlist to organize your favorite tracks\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 md:gap-5\">\r\n      {playlists.map((playlist) => {\r\n        const count = playlist.playlist_songs?.length ?? 0;\r\n        \r\n        return (\r\n          <div\r\n            key={playlist.id}\r\n            className=\"group relative rounded-xl sm:rounded-2xl border border-white/10 bg-zinc-900/50 backdrop-blur-xl overflow-hidden hover:bg-zinc-800/50 transition-all duration-300 hover:border-cyan-500/30 shadow-lg hover:shadow-cyan-500/10\"\r\n          >\r\n            {/* Cover Image */}\r\n            <div className=\"relative aspect-square overflow-hidden bg-gradient-to-br from-zinc-800 to-black\">\r\n              {playlist.cover_image_url ? (\r\n                <img\r\n                  src={playlist.cover_image_url}\r\n                  alt={playlist.name}\r\n                  className=\"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110\"\r\n                />\r\n              ) : (\r\n                <div className=\"absolute inset-0 bg-gradient-to-br from-cyan-500/20 to-zinc-900\">\r\n                  <div \r\n                    className=\"absolute inset-0 opacity-20\" \r\n                    style={{\r\n                      backgroundImage: 'linear-gradient(45deg, rgba(6,182,212,0.4) 1px, transparent 1px), linear-gradient(-45deg, rgba(6,182,212,0.4) 1px, transparent 1px)',\r\n                      backgroundSize: '20px 20px'\r\n                    }}\r\n                  />\r\n                  <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                    <svg className=\"h-12 w-12 sm:h-14 sm:w-14 md:h-16 md:w-16 text-cyan-400/30\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Overlay with Play Button */}\r\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n                <div className=\"absolute bottom-3 right-3 sm:bottom-4 sm:right-4\">\r\n                  <button\r\n                    onClick={() => onOpen(playlist.id)}\r\n                    className=\"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-cyan-500 hover:bg-cyan-400 flex items-center justify-center shadow-lg shadow-cyan-500/50 hover:scale-110 transition-all active:scale-95\"\r\n                  >\r\n                    <svg className=\"h-4 w-4 sm:h-5 sm:w-5 text-black ml-0.5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path d=\"M8 5v14l11-7z\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Info Section */}\r\n            <div className=\"p-3 sm:p-4 space-y-1.5 sm:space-y-2\">\r\n              <h3 className=\"font-bold text-sm sm:text-base truncate group-hover:text-cyan-400 transition-colors\">\r\n                {playlist.name}\r\n              </h3>\r\n              \r\n              <p className=\"text-xs sm:text-sm text-zinc-500 line-clamp-2 min-h-[2rem] sm:min-h-[2.5rem]\">\r\n                {playlist.description || \"No description\"}\r\n              </p>\r\n\r\n              <div className=\"flex items-center justify-between pt-1 sm:pt-2\">\r\n                <span className=\"text-xs text-zinc-500 flex items-center gap-1\">\r\n                  <svg className=\"h-3 w-3 sm:h-3.5 sm:w-3.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3\" />\r\n                  </svg>\r\n                  {count} song{count === 1 ? \"\" : \"s\"}\r\n                </span>\r\n                \r\n                <button\r\n                  onClick={() => onDelete(playlist.id)}\r\n                  className=\"opacity-0 group-hover:opacity-100 h-7 w-7 sm:h-8 sm:w-8 rounded-lg bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 hover:border-red-500/40 flex items-center justify-center transition-all active:scale-95\"\r\n                  title=\"Delete playlist\"\r\n                >\r\n                  <svg className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 text-red-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\dashboard\\PlaylistModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\dashboard\\ProfileSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\src\\components\\dashboard\\UploadSongForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":4,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":40},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":265,"column":19,"nodeType":"JSXOpeningElement","endLine":269,"endColumn":21},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"Image elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":283,"column":21,"nodeType":"JSXOpeningElement","endLine":283,"endColumn":80}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useRef, DragEvent } from \"react\";\r\nimport { Music, Upload, Image, Check, X } from \"lucide-react\";\r\n\r\ntype UploadSongFormProps = {\r\n  onSubmit: (data: {\r\n    title: string;\r\n    artist: string;\r\n    audioFile: File;\r\n    coverFile: File;\r\n  }) => Promise<void>;\r\n  busy: boolean;\r\n};\r\n\r\nexport default function UploadSongForm({ onSubmit, busy }: UploadSongFormProps) {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [artist, setArtist] = useState(\"\");\r\n  const [audioFile, setAudioFile] = useState<File | null>(null);\r\n  const [coverFile, setCoverFile] = useState<File | null>(null);\r\n  const [dragActive, setDragActive] = useState({ audio: false, cover: false });\r\n\r\n  const audioInputRef = useRef<HTMLInputElement>(null);\r\n  const coverInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleDrag = (e: DragEvent, type: \"audio\" | \"cover\") => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\r\n      setDragActive((prev) => ({ ...prev, [type]: true }));\r\n    } else if (e.type === \"dragleave\") {\r\n      setDragActive((prev) => ({ ...prev, [type]: false }));\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e: DragEvent, type: \"audio\" | \"cover\") => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDragActive((prev) => ({ ...prev, [type]: false }));\r\n\r\n    const files = e.dataTransfer.files;\r\n    if (!files?.[0]) return;\r\n\r\n    if (type === \"audio\" && files[0].type.startsWith(\"audio/\")) {\r\n      setAudioFile(files[0]);\r\n    }\r\n    if (type === \"cover\" && files[0].type.startsWith(\"image/\")) {\r\n      setCoverFile(files[0]);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!audioFile || !coverFile || busy) return;\r\n\r\n    await onSubmit({ title, artist, audioFile, coverFile });\r\n\r\n    setTitle(\"\");\r\n    setArtist(\"\");\r\n    setAudioFile(null);\r\n    setCoverFile(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <div\r\n        className=\"\r\n          relative\r\n          w-full\r\n          rounded-3xl\r\n          bg-gradient-to-br from-zinc-900/40 via-zinc-900/30 to-black/40\r\n          backdrop-blur-xl\r\n          p-6\r\n          sm:p-8\r\n          space-y-6\r\n          border border-white/10\r\n        \"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center gap-4 \">\r\n          <div className=\"h-12 w-12 sm:h-14 sm:w-14 rounded-2xl bg-gradient-to-br from-cyan-500 to-cyan-600 grid place-items-center\">\r\n            <Music className=\"h-6 w-6 sm:h-7 sm:w-7 text-black\" strokeWidth={2} />\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <h2 className=\"text-xl sm:text-2xl font-bold text-white tracking-tight \">\r\n              Upload Your Track\r\n            </h2>\r\n            <p className=\"text-sm text-zinc-500 mt-0.5\">\r\n              Add music to your library\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Inputs */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5 sm:gap-6\">\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-[11px] font-semibold text-zinc-500 uppercase tracking-wider block\">\r\n              Song Title\r\n            </label>\r\n            <input\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              placeholder=\"Enter song title\"\r\n              required\r\n              className=\"\r\n                w-full\r\n                h-11\r\n                sm:h-12\r\n                rounded-xl\r\n                bg-black/40\r\n                border border-white/10\r\n                px-4\r\n                text-sm\r\n                sm:text-base\r\n                text-white\r\n                placeholder:text-zinc-600\r\n                outline-none\r\n                focus:border-cyan-500/50\r\n                focus:bg-black/60\r\n                transition-all\r\n                duration-200\r\n              \"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-[11px] font-semibold text-zinc-500 uppercase tracking-wider block\">\r\n              Artist Name\r\n            </label>\r\n            <input\r\n              value={artist}\r\n              onChange={(e) => setArtist(e.target.value)}\r\n              placeholder=\"Enter artist name\"\r\n              required\r\n              className=\"\r\n                w-full\r\n                h-11\r\n                sm:h-12\r\n                rounded-xl\r\n                bg-black/40\r\n                border border-white/10\r\n                px-4\r\n                text-sm\r\n                sm:text-base\r\n                text-white\r\n                placeholder:text-zinc-600\r\n                outline-none\r\n                focus:border-cyan-500/50\r\n                focus:bg-black/60\r\n                transition-all\r\n                duration-200\r\n              \"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Upload Areas */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5 sm:gap-6\">\r\n          {/* Audio File */}\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-[11px] font-semibold text-zinc-500 uppercase tracking-wider block\">\r\n              Audio File\r\n            </label>\r\n            <div\r\n              onDragEnter={(e) => handleDrag(e, \"audio\")}\r\n              onDragLeave={(e) => handleDrag(e, \"audio\")}\r\n              onDragOver={(e) => handleDrag(e, \"audio\")}\r\n              onDrop={(e) => handleDrop(e, \"audio\")}\r\n              onClick={() => audioInputRef.current?.click()}\r\n              className={`\r\n                relative\r\n                h-36\r\n                sm:h-40\r\n                rounded-2xl\r\n                border-2 border-dashed\r\n                cursor-pointer\r\n                transition-all\r\n                duration-200\r\n                overflow-hidden\r\n                ${\r\n                  dragActive.audio\r\n                    ? \"border-cyan-500 bg-cyan-500/10\"\r\n                    : audioFile\r\n                    ? \"border-white/20 bg-black/30\"\r\n                    : \"border-white/10 bg-black/20 hover:border-white/20 hover:bg-black/30\"\r\n                }\r\n              `}\r\n            >\r\n              <input\r\n                ref={audioInputRef}\r\n                type=\"file\"\r\n                accept=\"audio/*\"\r\n                onChange={(e) => setAudioFile(e.target.files?.[0] || null)}\r\n                className=\"hidden\"\r\n                required\r\n              />\r\n\r\n              <div className=\"absolute inset-0 flex flex-col items-center justify-center gap-3 text-center px-4\">\r\n                {audioFile ? (\r\n                  <>\r\n                    <div className=\"h-12 w-12 rounded-xl bg-cyan-500/20 border border-cyan-500/30 grid place-items-center\">\r\n                      <Check className=\"h-6 w-6 text-cyan-400\" strokeWidth={2.5} />\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-xs text-zinc-500\">Audio file selected</p>\r\n                      <p className=\"text-sm text-zinc-300 truncate w-full mt-1 font-medium\">\r\n                        {audioFile.name}\r\n                      </p>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"h-12 w-12 rounded-xl bg-white/5 border border-white/10 grid place-items-center\">\r\n                      <Upload className=\"h-6 w-6 text-zinc-500\" strokeWidth={2} />\r\n                    </div>\r\n                    <p className=\"text-xs text-zinc-500\">\r\n                      Drag & drop or click\r\n                    </p>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Cover Image */}\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-[11px] font-semibold text-zinc-500 uppercase tracking-wider block\">\r\n              Cover Image\r\n            </label>\r\n            <div\r\n              onDragEnter={(e) => handleDrag(e, \"cover\")}\r\n              onDragLeave={(e) => handleDrag(e, \"cover\")}\r\n              onDragOver={(e) => handleDrag(e, \"cover\")}\r\n              onDrop={(e) => handleDrop(e, \"cover\")}\r\n              onClick={() => coverInputRef.current?.click()}\r\n              className={`\r\n                relative\r\n                h-36\r\n                sm:h-40\r\n                rounded-2xl\r\n                border-2 border-dashed\r\n                cursor-pointer\r\n                transition-all\r\n                duration-200\r\n                overflow-hidden\r\n                ${\r\n                  dragActive.cover\r\n                    ? \"border-cyan-500 bg-cyan-500/10\"\r\n                    : coverFile\r\n                    ? \"border-white/20 bg-black/30\"\r\n                    : \"border-white/10 bg-black/20 hover:border-white/20 hover:bg-black/30\"\r\n                }\r\n              `}\r\n            >\r\n              <input\r\n                ref={coverInputRef}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={(e) => setCoverFile(e.target.files?.[0] || null)}\r\n                className=\"hidden\"\r\n                required\r\n              />\r\n\r\n              {coverFile ? (\r\n                <>\r\n                  <img\r\n                    src={URL.createObjectURL(coverFile)}\r\n                    alt=\"Cover preview\"\r\n                    className=\"absolute inset-0 h-full w-full object-cover\"\r\n                  />\r\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\" />\r\n                  <div className=\"absolute bottom-3 left-3 right-3\">\r\n                    <p className=\"text-xs text-white/80 truncate font-medium\">\r\n                      {coverFile.name}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"absolute top-3 right-3 h-8 w-8 rounded-lg bg-cyan-500 grid place-items-center\">\r\n                    <Check className=\"h-4 w-4 text-black\" strokeWidth={3} />\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div className=\"absolute inset-0 flex flex-col items-center justify-center gap-3 text-center px-4\">\r\n                  <div className=\"h-12 w-12 rounded-xl bg-white/5 border border-white/10 grid place-items-center\">\r\n                    <Image className=\"h-6 w-6 text-zinc-500\" strokeWidth={2} />\r\n                  </div>\r\n                  <p className=\"text-xs text-zinc-500\">\r\n                    Drag & drop or click\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Submit Button */}\r\n        <button\r\n          onClick={handleSubmit}\r\n          disabled={busy || !title || !artist || !audioFile || !coverFile}\r\n          className=\"\r\n            w-full\r\n            h-12\r\n            sm:h-13\r\n            rounded-xl\r\n            font-bold\r\n            text-sm\r\n            sm:text-base\r\n            text-black\r\n            bg-gradient-to-r from-cyan-500 to-cyan-600\r\n            hover:from-cyan-400 hover:to-cyan-500\r\n            disabled:opacity-40 disabled:cursor-not-allowed\r\n            active:scale-[0.98]\r\n            transition-all\r\n            duration-200\r\n            flex\r\n            items-center\r\n            justify-center\r\n            gap-2\r\n          \"\r\n        >\r\n          {busy ? (\r\n            <>\r\n              <div className=\"h-4 w-4 border-2 border-black/30 border-t-black rounded-full animate-spin\" />\r\n              <span>Uploading...</span>\r\n            </>\r\n          ) : (\r\n            \"Upload Song\"\r\n          )}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Subhradeep Nath\\OneDrive\\Desktop\\New folder (3)\\Hey-Melody\\types\\song.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
